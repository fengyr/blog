---
layout: post
title: Linux内存布局分析
categories:
- programmer
tags:
- basic
---



BSS段
BSS段（bss segment）通常是指用来存放程序中未初始化的全局变量的一块内存区域。BSS是英文Block Started by Symbol的简称。
BSS段属于静态内存分配

数据段
数据段（data segment）通常是指用来存放程序中已初始化的全局变量的一块内存区域。数据段属于静态内存分配

代码段
代码段（code segment/text segment）通常是指用来存放程序执行代码的一块内存区域。这部分区域的大小在程序运行前就已经确定，
并且内存区域通常属于只读, 某些架构也允许代码段为可写，即允许修改程序。在代码段中，也有可能包含一些只读的常数变量，例如
字符串常量等。

堆（heap）
堆是用于存放进程运行中被动态分配的内存段，它的大小并不固定，可动态扩张或缩减。当进程调用malloc等函数分配内存时，新分配
的内存就被动态添加到堆上（堆被扩张）；当利用free等函数释放内存时，被释放的内存从堆中被剔除（堆被缩减）

栈(stack)
栈又称堆栈，是用户存放程序临时创建的局部变量，也就是说我们函数括弧“{}”中定义的变量（但不包括static声明的变量，static意
味着在数据段中存放变量）。除此以外，在函数被调用时，其参数也会被压入发起调用的进程栈中，并且待到调用结束后，函数的返回
值也会被存放回栈中。由于栈的先进后出特点，所以栈特别方便用来保存/恢复调用现场。从这个意义上讲，我们可以把堆栈看成一个寄
存、交换临时数据的内存区。



了解Linux内存，我认为最快的方式是了解主流体系架构下的分页机制以及进程的地址空间。


















## 附一 参考资料
1	BSS段、数据段、代码段、堆与栈		
	http://www.cppblog.com/prayer/archive/2009/08/17/93594.html			
2	360doc		
	http://www.360doc.com/content/12/0405/00/1671317_200882538.shtml
3	360doc		
	http://www.360doc.com/content/12/0918/16/7982302_236773349.shtml		
4	http://www.360doc.com/content/10/1009/15/3038654_59605654.shtml			
5	http://www.360doc.com/content/12/0804/11/6590333_228275528.shtml			
6	C语言中内存分布及程序运行中(BSS段、数据段、代码段、堆栈）			
	http://my.oschina.net/pollybl1255/blog/140323			
7	Linux内存点滴 用户进程内存空间 stack heap text data		
	http://helloxuweifu.iteye.com/blog/1772525			
	
